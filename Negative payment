class CheckoutApp {

    static void pay(int bal, int amt) throws Exception {

        if (amt < 0)
            throw new Exception("Amount should not be negative");

        if (amt > bal)
            throw new Exception("Not enough balance");

        System.out.println("Payment Success");
    }

    public static void main(String[] args) {

        int balance = 5000;
        int amount = -100;   // change value to test

        System.out.println("Connection Open");

        try {
            pay(balance, amount);
        }
        catch (Exception e) {
            System.out.println("Message: " + e.getMessage());
        }
        finally {
            System.out.println("Connection Closed");
        }
    }
}
